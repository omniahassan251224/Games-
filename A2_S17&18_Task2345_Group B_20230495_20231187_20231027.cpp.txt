#include "Game1.h"
#include "Game2.h"
#include "Game3.h"
#include "Game4.h"
#include "Game5.h"
#include "Game6.h"
#include "Game7.h"
#include "Game8.h"
#include <iostream>
using namespace std;

void displayMenu() {
    cout << "\n";
    cout << "Welcome to FCAI Game\n";
    cout << "Menu Games:\n";
    cout << "1. Pyramic Tic-Tac-Toe\n";
    cout << "2. Four-in-a-row\n";
    cout << "3. 5 x 5 Tic Tac Toe\n";
    cout << "4. Word Tic Tac Toe\n";
    cout << "5. Numerical Tic Tac Toe\n";
    cout << "6. Misere Tic Tac Toe\n";
    cout << "7. 4 x 4 Tic Tac Toe\n";
    cout << "8. Ultimate Tic Tac Toe\n";
    cout << "0. Exit\n";
}

bool askToPlayAgain() {
    int response;
    while (true) {
        cout << "\n";
        cout << "Do you want to play again?\n1. Yes\n2. No\n";
        cin >> response;

        if (cin.fail()) {
            cin.clear();
            cin.ignore(numeric_limits<streamsize>::max(), '\n');
            cout << "Invalid input. Please enter 1 for Yes or 2 for No.\n";
            continue;
        }

        if (response == 1) {
            return true;
        }
        else if (response == 2) {
            return false;
        }
        else {
            cout << "Wrong input. Please enter 1 for Yes or 2 for No.\n";
        }
    }
}

int main() {
    int choice;
    do {
        displayMenu();
        cout << "Enter your choice (0-8): ";

        while (!(cin >> choice) || choice < 0 || choice > 8) {
            cout << "Wrong input. Please enter a number between 0 and 8: ";
            cin.clear();
            cin.ignore(numeric_limits<streamsize>::max(), '\n');
        }

        switch (choice) {
        case 1:
            do {
                functionFromFile1();
            } while (askToPlayAgain());
            break;
        case 2:
            do {
                functionFromFile2();
            } while (askToPlayAgain());
            break;
        case 3:
            do {
                functionFromFile3();
            } while (askToPlayAgain());
            break;
        case 4:
            do {
                functionFromFile4();
            } while (askToPlayAgain());
            break;
        case 5:
            do {
                functionFromFile5();
            } while (askToPlayAgain());
            break;
        case 6:
            do {
                functionFromFile6();
            } while (askToPlayAgain());
            break;
        case 7:
            do {
                functionFromFile7();
            } while (askToPlayAgain());
            break;
        case 8:
            do {
                functionFromFile8();
            } while (askToPlayAgain());
            break;
        case 0:
            cout << "\nThank you for ur time. Goodbye!" << endl;
            break;
        default:
            cout << "Wrong choice. Please try again." << endl;
        }
    } while (choice != 0);

    return 0;
}
